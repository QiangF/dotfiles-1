# vim:set et ft=conf fdm=marker sw=4 sts=4 ts=4 nopaste :

## Reloading tmux config
## :source-file ~/.tmux.conf
## tmux source-file ~/.tmux.conf

# [ key 快捷键 ]# {{{
#--------------------------------------------

# [ 前缀绑定 C-l ]
#--------------------------------------------
unbind C-b
unbind C-l
set -g prefix C-l
bind-key C-l last-window

# [ tab 切换 ]
#--------------------------------------------
# -n 参数无须添加前缀 c-l 按键
unbind F11
unbind F12
bind -n F11 previous-window
bind -n F12 next-window

# [ pane 分隔窗口 ]
#--------------------------------------------
bind | split-window -h
bind - split-window -v
bind . select-pane -t :.+
bind , select-pane -t :.-
bind x kill-pane

# [ copy mode 复制 / 粘贴 ]
#--------------------------------------------
## http://jasonwryan.com/blog/2011/06/07/copy-and-paste-in-tmux/
bind-key -t vi-copy 'v' begin-selection
bind-key -t vi-copy 'y' copy-selection

# 默认：kill 窗口快捷键 PREFIX &
bind-key k confirm kill-window
bind-key K confirm kill-server

# [ 绑定特定程序 ]
#--------------------------------------------

# open a man page in new window
# bind / command-prompt "split-window 'exec man %%'"
#
# # quick view of processes
# bind '~' split-window "exec htop"

## 重新读取配置文件，文件路径不能用引号包裹，会报错
bind R source-file ~/.tmux.conf



# }}}

# [ advance 设置 ]# {{{
#--------------------------------------------
# set-option            缩写 ==> set
# set-window-option     缩写 ==> setw
# -a      在当前的 value （string） 上面添加，而非 覆盖
# -g      global 全局
# -u      unset 清零，恢复默认设置
# -s      server/session 选项
# -w      等价于 set-window-option
# pane 分割的窗口

# session 起始 编号
set -g base-index 1
set -g history-limit 8192

setw -g mode-mouse on

# 配合 vim 里面的 set ttymouse=xterm2 可以实现 选择粘贴
set -g pane-base-index 1
set -g mouse-select-pane on
set -g pane-border-fg black
set -g pane-active-border-fg brightgreen
#set -g pane-active-border-attr blink
# 鼠标拖拉边框实现调整窗口大小
set -g mouse-select-pane on
set -g mouse-resize-pane on


set -g status-keys vi
setw -g mode-keys vi
setw -g monitor-activity on

# misc settings
setw -g automatic-rename on

set -g bell-action none
set -g visual-bell off

#setw -g aggressive-resize on
#setw -g monitor-activity on


# }}}

# XXX attributes 状态栏 文字样式，逗号分隔 bright (or bold), dim, underscore, blink, reverse, hidden, italics

# [ theme 主题 ]# {{{
#--------------------------------------------

# [ color 颜色 ]
#--------------------------------------------
# black white red green yellow blue magenta cyan
# colour0 ~ colour255

set -g default-terminal "screen-256color"

## urxvt
#set -g default-terminal rxvt-256color
#set -g terminal-overrides 'Co#256:AB=\E[48;5;%dm:AF=\E[38;5;%dm'

# 终端 标题栏
set -g set-titles on
# [ 标记属性 ]# {{{
#--------------------------------------------
#(shell-command)  First line of the command's output
#[attributes]     Colour or attribute change
#H                Hostname 主机名
#F                window flag 窗口类型标志
#I                Current window index
#P                Current pane index
#S                Session name
#T                title 当前所在路径
#W                window name 程序名称
##                A literal "#"
# }}}
set -g set-titles-string 'tmux : #H #F #W #T'

# [ status bar ]
#--------------------------------------------

set -g status on
setw -g utf8 on
set -g status-utf8 on
# 标题栏更新时间间隔
set-option -g status-interval 5
set -g status-attr bold
#set -g message-attr bold
setw -g clock-mode-style 24
# 是否显示窗口 属性 标记
setw -g window-status-attr none


## [ my style ]# {{{
##--------------------------------------------
#
#set -g status-justify left
#set -g status-bg black
#set -g status-fg blue
#set -g status-left-length 40
#
#set -g pane-active-border-fg red
#set -g pane-active-border-bg black
#set -g pane-border-fg white
#set -g pane-border-bg black
#
## 命令行，信息提示 状态栏 背景和文字
#set -g message-fg white
#set -g message-bg blue
#
##setw -g mode-bg black
## 当前窗口标题样式
#setw -g window-status-bg black
#setw -g window-status-current-fg yellow
##setw -g window-status-current-attr bold
#
## 提示警告 属性 颜色
##setw -g window-status-alert-attr default
##setw -g window-status-alert-fg yellow
#
## 2011.4.23
#set -g status-left '#[fg=green][#H#[fg=green] #[fg=white]#S#[fg=green]]#[default]'
#set -g status-right '#[fg=red] %m/%d %H:%M#[default]'
#
## }}}

## [ rakka's style ]# {{{
##--------------------------------------------
#
#setw -g window-status-format " #F#I:#W#F "
#setw -g window-status-current-format " #F#I:#W#F "
#
#set -g status-right-length 30
#set -g status-left-length 30
#
#set -g status-bg black
## fg 设置前景，会覆盖 current 的前景
#set -g status-fg colour0
#
#setw -g window-status-current-bg green
#setw -g window-status-current-fg colour0
#
#setw -g window-status-bg red
#setw -g window-status-fg colour0
#
## 显示 loadavg 负载信息
## From : https://github.com/vikkikanhaua/myconfs/blob/master/.tmux.conf
##set -g status-left '#[fg=red]#H#[default] #[fg=yellow]#(cut -d " " -f 1-3 /proc/loadavg)#[default]'
#set -g status-left '#[bg=cyan] #[fg=colour0]#(cut -d " " -f 1-3 /proc/loadavg) #[default]'
## rakka 全部添加背景
#set -g status-right '#[bg=cyan]#[fg=colour0](#S)#[default] #[bg=red]#[fg=colour0] %H:%M #[default]'
#
## }}}
#

# [ crshd's style ]
#--------------------------------------------
## crshd http://dotshare.it/dots/392/

## 状态栏刷新时间 5s (refressh status bar time)
## update the status bar every interval seconds
set -g status-interval 5
set -g status-justify left

set -g status-bg black
set -g status-fg white
setw -g window-status-fg magenta
setw -g window-status-attr none
setw -g window-status-current-fg white 
setw -g window-status-current-bg black
setw -g window-status-current-attr bold

setw -g window-status-activity-attr none

#setw -g window-status-format '#[fg=white,bg=blue] #I #[fg=black,bg=cyan] #W '
#setw -g window-status-current-format '#[fg=blue,bg=white] #I #[fg=black,bg=yellow] #W '
#set -g status-left '#[fg=blue,bold] #S#[default,fg=white][#[fg=yellow]#I:#P#[fg=white]]#[fg=black,bold]@#[fg=red]#H #[fg=black,bold]» #T#[default]'
#set -g status-right ''HH

set -g status-left-length 80
set -g status-left-fg black

setw -g window-status-format '#[fg=black,bg=white] #I #[fg=white,bg=colour8] #W '
setw -g window-status-current-format '#[fg=white,bg=blue] #I #[fg=colour0,bg=green] #W '
set -g status-left '#[bg=cyan,fg=white] #(cut -d " " -f 1-3 /proc/loadavg) #[default]'
#set -g status-right '#[fg=blue,bold]+ #T #[bg=blue]#[fg=colour0] %H:%M #[default]'
set -g status-right '#[bg=blue]#[fg=white] %m-%d %H:%M #[default]'

# }}}

# [ status bar format example ]# {{{
#--------------------------------------------
# example
#set -g status-left '#[fg=red]#H#[fg=green]:#[fg=white]#S #[fg=yellow]][#[default]'
#set -g status-right '#[fg=green]][ #[fg=blue]%Y-%m-%d #[fg=white]%H:%M#[default]'

# bold font
#set -g status-left '#[fg=green,bold][#H#[fg=green,bold] #[fg=green,bold]#S]#[fg=yellow,bold]#[default]'
#set -g status-right '#[fg=cyan,bold] %m/%d %H:%M#[default]'

# }}}




